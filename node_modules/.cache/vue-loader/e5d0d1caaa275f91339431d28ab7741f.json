{"remainingRequest":"/Users/wangfeng/myproject/vueclitest/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangfeng/myproject/vueclitest/supermall/src/views/home/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangfeng/myproject/vueclitest/supermall/src/views/home/home.vue","mtime":1598340362724},{"path":"/Users/wangfeng/myproject/vueclitest/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangfeng/myproject/vueclitest/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangfeng/myproject/vueclitest/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangfeng/myproject/vueclitest/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIb21lU3dpcGVyIGZyb20gJy4vY2hpbGRDb21wcy9ob21lU3dpcGVyJwppbXBvcnQgUmVjb21tZW5kVmlldyBmcm9tICcuL2NoaWxkQ29tcHMvUmVjb21tZW5kVmlldycKaW1wb3J0IEZlYXR1cmVWaWV3IGZyb20gJy4vY2hpbGRDb21wcy9GZWF0dXJlVmlldycKCmltcG9ydCBOYXZCYXIgZnJvbSAnY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhcicKaW1wb3J0IFRhYkNvbnRyb2wgZnJvbSAnY29tcG9uZW50cy9jb250ZW50L1RhYkNvbnRyb2wvVGFiQ29udHJvbCcKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0JwoKaW1wb3J0IHsgZ2V0SG9tZU11bHRpZGF0YSxnZXRIb21lR29vZHMgfSBmcm9tICduZXR3b3JrL2hvbWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOidob21lJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYmFubmVyczpbXSwKICAgICAgICAgICAgcmVjb21tZW5kczpbXSwKICAgICAgICAgICAgY3VycmVudFR5cGU6J3BvcCcsCiAgICAgICAgICAgIGdvb2RzOnsKICAgICAgICAgICAgICAgICdwb3AnOntwYWdlOjAgLGxpc3Q6W119LAogICAgICAgICAgICAgICAgJ25ldyc6e3BhZ2U6MCAsbGlzdDpbXX0sCiAgICAgICAgICAgICAgICAnc2VsbCc6e3BhZ2U6MCAsbGlzdDpbXX0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOnsKICAgICAgICBIb21lU3dpcGVyLAogICAgICAgIFJlY29tbWVuZFZpZXcsCiAgICAgICAgRmVhdHVyZVZpZXcsCiAgICAgICAgTmF2QmFyLAogICAgICAgIFRhYkNvbnRyb2wsCiAgICAgICAgR29vZHNMaXN0CgogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICBzaG93R29vZHMoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ29vZHNbdGhpcy5jdXJyZW50VHlwZV0ubGlzdAogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgLy8gIDEu6K+35rGC5aSa5Liq5pWw5o2uCiAgICAgICAgdGhpcy5nZXRIb21lTXVsdGlkYXRhKCkKICAgICAgICAvLyBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihyZXMgPT57CiAgICAgICAgLy8gICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0OwogICAgICAgIC8vICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5yZWNvbW1lbmQubGlzdDsKICAgICAgICAgICAKICAgICAgICAvLyB9KQoKICAgICAgICAvLyAyLuivt+axguWVhuWTgeaVsOaNrgogICAgICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdwb3AnKQogICAgICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCduZXcnKQogICAgICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdzZWxsJykKICAgICAgICAvLyBnZXRIb21lR29vZHMoJ3BvcCcsMSkudGhlbihyZXMgPT57CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCczMzMzJyxyZXMpCiAgICAgICAgLy8gfSkKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICAvLyAg5LqL5Lu255uR5ZCs55u45YWz55qE5pa55rOVCiAgICAgICAgICB0YWJDbGljayhpbmRleCl7CiAgICAgICAgICAgICAgc3dpdGNoKGluZGV4KXsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAncG9wJwogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICduZXcnCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0nc2VsbCcKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9LAoKCiAgICAgICAgLy8gIOe9kee7nOivt+axguebuOWFs+aWueazlQogICAgICAgIGdldEhvbWVNdWx0aWRhdGEoKXsKICAgICAgICAgICAgZ2V0SG9tZU11bHRpZGF0YSgpLnRoZW4ocmVzID0+ewogICAgICAgICAgICB0aGlzLmJhbm5lcnMgPSByZXMuZGF0YS5iYW5uZXIubGlzdDsKICAgICAgICAgICAgdGhpcy5yZWNvbW1lbmRzID0gcmVzLmRhdGEucmVjb21tZW5kLmxpc3Q7CiAgICAgICAgICAgCiAgICAgICAgfSkKCiAgICAgICAgfSwKICAgICAgICBnZXRIb21lR29vZHModHlwZSl7CiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UrMQogICAgICAgICAgICBnZXRIb21lR29vZHModHlwZSxwYWdlKS50aGVuKHJlcyA9PnsKICAgICAgICAgICAgY29uc29sZS5sb2coJzMzMzMnLHJlcykKICAgICAgICAgICAgdGhpcy5nb29kc1t0eXBlXS5saXN0LnB1c2goLi4ucmVzLmRhdGEubGlzdCkgCiAgICAgICAgICAgIHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArPSAxCiAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgCiAgICAgICAKCiAgICB9Cn0K"},{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA","file":"home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n    <div id=\"home\">\n        <div class=\"home-nav\">\n            <nav-bar>\n            <div slot=\"center\">\n                购物街\n            </div>\n        </nav-bar>\n        </div>\n        <home-swiper :banners='banners'></home-swiper>\n        <recommend-view :recommends='recommends'></recommend-view>\n        <feature-view></feature-view>\n        <tab-control class=\"tab-control\" \n        :titles=\"['流行','新款','精选']\" \n        @tabClick='tabClick'></tab-control>\n        <goods-list :goods = showGoods></goods-list>\n      \n      \n    </div>\n</template>\n\n<script>\nimport HomeSwiper from './childComps/homeSwiper'\nimport RecommendView from './childComps/RecommendView'\nimport FeatureView from './childComps/FeatureView'\n\nimport NavBar from 'components/common/navbar/NavBar'\nimport TabControl from 'components/content/TabControl/TabControl'\nimport GoodsList from 'components/content/goods/GoodsList'\n\nimport { getHomeMultidata,getHomeGoods } from 'network/home'\n\nexport default {\n    name:'home',\n    data() {\n        return {\n            banners:[],\n            recommends:[],\n            currentType:'pop',\n            goods:{\n                'pop':{page:0 ,list:[]},\n                'new':{page:0 ,list:[]},\n                'sell':{page:0 ,list:[]}\n            }\n        }\n    },\n    components:{\n        HomeSwiper,\n        RecommendView,\n        FeatureView,\n        NavBar,\n        TabControl,\n        GoodsList\n\n    },\n    computed:{\n        showGoods(){\n            return this.goods[this.currentType].list\n        }\n    },\n    created(){\n        //  1.请求多个数据\n        this.getHomeMultidata()\n        // getHomeMultidata().then(res =>{\n        //     this.banners = res.data.banner.list;\n        //     this.recommends = res.data.recommend.list;\n           \n        // })\n\n        // 2.请求商品数据\n        this.getHomeGoods('pop')\n        this.getHomeGoods('new')\n        this.getHomeGoods('sell')\n        // getHomeGoods('pop',1).then(res =>{\n        //     console.log('3333',res)\n        // })\n    },\n    methods:{\n        //  事件监听相关的方法\n          tabClick(index){\n              switch(index){\n                    case 0:\n                        this.currentType = 'pop'\n                        break\n                    case 1:\n                        this.currentType = 'new'\n                        break\n                    case 2:\n                        this.currentType ='sell'\n                        break\n              }\n          },\n\n\n        //  网络请求相关方法\n        getHomeMultidata(){\n            getHomeMultidata().then(res =>{\n            this.banners = res.data.banner.list;\n            this.recommends = res.data.recommend.list;\n           \n        })\n\n        },\n        getHomeGoods(type){\n            const page = this.goods[type].page+1\n            getHomeGoods(type,page).then(res =>{\n            console.log('3333',res)\n            this.goods[type].list.push(...res.data.list) \n            this.goods[type].page += 1\n        })\n        },\n\n      \n       \n\n    }\n}\n</script>\n\n<style scoped>\n#home{\n    padding-top:44px ;\n}\n.home-nav{\n    background-color: var(--color-tint);\n    color: white;\n\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    z-index: 9;\n}\n.tab-control{\n    position: sticky;\n    top: 44px;\n    z-index: 9;\n\n}\n</style>"]}]}